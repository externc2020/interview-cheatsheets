# 路由背景
现在web应用基本都是react,vue实现出来的单页面(spa)网页应用，只有一个index.html，所以需要url有以下的功能

- url改变但是浏览器不发送请求给服务器
- 监听url的变化
- 再不刷新页面的情况下动态改变url的数值

# 两种模式总结
- hash兼容性强(ie8),history兼容性差(ie10)
- hash不需要服务端做任何配置， history需要服务器做配置，让其每次返回index.html，服务器增加一个覆盖所有情况的候选资源(index.html)
- 

# [History模式](https://developer.mozilla.org/zh-CN/docs/Web/API/History)

History 接口允许操作浏览器的曾经在标签页或者框架里访问的会话历史记录

如果你在一个浏览器标签页中 跳转到其他页面 history.length会持续+1，并且可以通过
- history.back() 回退上一级页面
- history.forward() 返回之后页面
- history.go(number) 跳转number次数的页面 -1为上一页，1为下一页
- back,forward,go都会返回undefined再没有页面可以跳转的时候，并且不会发生页面跳转
- history.pushState()：添加一条路由历史记录，如果设置跨域网址则报错
- history.replaceState()：替换当前页在路由历史记录的信息
- popstate 事件：当活动的历史记录发生变化，就会触发 popstate 事件，在点击浏览器的前进后退按钮或者调用back,forward,go的时候也会触发

#### history.pushState
````javascript
const state = { 'page_id': 1, 'user_id': 5 }
const title = ''
const url = 'hello-world.html'

history.pushState(state, title, url)
````

# hash模式

主要是在url后面增加#，然后通过hashchange来监听url的改变
```bash
http://127.0.0.1:5500/前端路由/hash.html#/page1
```

url后面的#/page1就是hash值

- hash的变化不会导致浏览器向服务器发送请求
- windows.location.hash可以获取到hash的数值
- hashchange是hash改变的callback
