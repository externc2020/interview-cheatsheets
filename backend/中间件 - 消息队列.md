### 应用场合

- 异步（高并发）
- 解耦
- 削峰（秒杀，双11）

### 常见类型
- RocketMQ 阿里，apache，集群方便，适合超大数据量
- RabbitMQ 金融，Erlang，消息积压性能下滑明显，集群配置复杂（zookeeper）
- ActiveMQ apache
- Kafka LinkedIn，日志，Scala
- ZeroMQ bitcoind

### 事务

- AMQP 支持事务
- RocketMQ 事务实现原理

### Kafka 为什么吞吐量大，速度快？
- 顺序读写
- Page Cache: 为了优化读写性能，Kafka利用了操作系统本身的Page Cache，就是利用操作系统自身的内存而不是JVM空间内存。
- 零拷贝: page cache 直接 sendfile 到 socket 缓冲区，这个过程发生在内核态，消除了内核态到用户态的内存拷贝
- 分区分段 + 索引
- 批量读写
- 批量压缩
- 多用于大数据领域

### RabbitMQ, Kafka, RocketMQ

- Kafka: 无限消息堆积，高效的持久化速度, 主要定位于日志传输。Kafka主要特点是基于Pull的模式来处理消息消费，追求高吞吐量，一开始的目的就是用于日志收集和传输。0.8版本开始支持复制，不支持事务，对消息的重复、丢失、错误没有严格要求，适合产生大量数据的互联网服务的数据收集业务。
- RocketMQ: 定位于非日志的可靠消息传输（日志场景也OK）, 使用场景：订单，交易，充值，流计算，消息推送，日志流式处理，binlog分发
- RabbitMQ是使用Erlang语言开发的开源消息队列系统，基于AMQP协议来实现。AMQP的主要特征是面向消息、队列、路由（包括点对点和发布/订阅）、可靠性、安全。AMQP协议更多用在企业系统内，对数据一致性、稳定性和可靠性要求很高的场景，对性能和吞吐量的要求还在其次。
- 在服务端处理同步发送的性能上，Kafka>RocketMQ>RabbitMQ。